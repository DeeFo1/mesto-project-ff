(()=>{"use strict";var e=document.querySelector("#card-template").content;function t(t,o,n,i){var a=e.querySelector(".places__item").cloneNode(!0);return a.querySelector(".card__image").src=t.link,a.querySelector(".card__title").textContent=t.name,a.querySelector(".card__image").alt=t.name,a.querySelector(".card__delete-button").addEventListener("click",o),a.querySelector(".card__like-button").addEventListener("click",n),document.querySelector(".popup_type_image").classList.add("popup_is-animated"),a.querySelector(".card__image").addEventListener("click",(function(){i(t)})),a}function o(e){e.target.closest(".card").remove()}function n(e){e.target.classList.contains("card__like-button")&&e.target.classList.toggle("card__like-button_is-active")}function i(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",r)}function a(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",r)}function c(e){a(e.target.closest(".popup"))}function r(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");t&&a(t)}}var u=document.querySelector(".places__list"),l=document.querySelector(".popup__image"),p=document.querySelector(".popup__caption"),d=document.querySelector(".popup_type_new-card"),f=document.querySelector(".popup_type_image"),s=document.querySelector(".popup_type_edit"),m=document.querySelector(".profile__edit-button"),_=document.querySelector(".profile__add-button"),x=document.querySelector(".popup_type_new-card"),y=document.querySelectorAll(".popup__close"),b=document.querySelectorAll(".popup");function v(e){i(f),l.src=e.link,l.alt=e.name,p.textContent=e.name}s.classList.add("popup_is-animated"),x.classList.add("popup_is-animated"),m.addEventListener("click",(function(){q.value=D.textContent,S.value=k.textContent,i(s)})),_.addEventListener("click",(function(){i(x)})),y.forEach((function(e){e.addEventListener("click",c)})),b.forEach((function(e){e.addEventListener("click",(function(t){t.target===e&&a(e)}))})),[{name:"PlayStation 5",link:"https://images.unsplash.com/photo-1607853202273-797f1c22a38e?q=80&w=2127&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Xbox Series X",link:"https://images.unsplash.com/photo-1621259182978-fbf93132d53d?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Nintendo Switch",link:"https://images.unsplash.com/photo-1612036781124-847f8939b154?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Steamdeck",link:"https://images.unsplash.com/photo-1665608130535-d9a71bce53b9?q=80&w=2080&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"NES",link:"https://images.unsplash.com/photo-1591462391994-cb7614f54aff?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Sega",link:"https://images.unsplash.com/photo-1627421367074-0735f6ddc254?q=80&w=1936&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((function(e){var i=t(e,o,n,v);u.append(i)}));var w=document.forms["edit-profile"],q=w.name,S=w.description,D=document.querySelector(".profile__title"),k=document.querySelector(".profile__description");w.addEventListener("submit",(function(e){e.preventDefault();var t=q.value,o=S.value;D.textContent=t,k.textContent=o,a(s)}));var h=document.forms["new-place"],g=h["place-name"],H=h.link;h.addEventListener("submit",(function(e){e.preventDefault();var i=t({name:g.value,link:H.value},o,n,v);u.prepend(i),h.reset(),a(d)}))})();